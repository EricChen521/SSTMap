---
layout: post
title: Examples of SSTMap Calculations
---

The simplest way to run `SSTMap` is by its command-line tools; `run_hsa` and `run_gist` that provide side-based and grid-based calculations of solvation structure and thermodynamics.

<!--more-->

It is assumed that an explicit solvent molecular dynamics trajectory has already been generated by the user in one of the MD simulation packages that are supported by MDTraj and ParEd. 

```bash
run_hsa -i topology_file -t trajectory_file -l casp3_ligand.pdb -f 10000 -s 0 -o casp3
run_gist -i topology_file -t trajectory_file -l casp3_ligand.pdb -d 40 40 40 -f  10000 -s 0 -o casp3
# Replace topology.top and trajectory.traj with files corresponding 
# to the MD package used for simulation, e.g.,
# casp3.prmtop & casp3.netcdf or casp3.gro & casp3.xtc.
```

In most cases, `run_hsa` and `run_gist` are sufficient for straight-forward calculations. The default options in these progrms are set such that the full list of quantities are caclulated for each hydration site or for each voxel in th GIST grid. 
If default options are not desired e.g., obtaining only a subset of quantities or running additional long-range water structure calculations, then it is best to use the python API. A couple of examples showing the use of `sstmap` python module are given below:  

```python
import sstmap as sm
# Example 1: Run a grid-based calculation
# with all quantities.
gist = sm.grid_water_analysis.GridWaterAnalysis(
        "casp3.prmtop", 
        "casp3.netcdf",
        ligand_file="casp3_ligand.pdb", 
        grid_dimensions=[40, 40, 40], 
        prefix="casp3")
gist.calculate_grid_quantities()
# Example 2: Run gist with only energy calculations.
gist.calculate_grid_quantities(energy=True)
# Example 3: Initialize gist with a grid center position.
gist = sm.GridWaterAnalysis(
        "casp3.prmtop", 
        "casp3.netcdf",
        grid_center=[35.33, 52.23, 54.96], 
        grid_dimensions=[40, 40, 40], 
        prefix="casp3")
```
<!--more-->
